# 2ì£¼ì°¨ 2022 07 06 ~ 2022 07 08
</br>

## ğŸ“Œ Android

### ê°œë°œ í™˜ê²½ êµ¬ì¶•

- JDK
  - í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (PAHT ì§€ì •) -> êµ¬ê¸€ë§ í•˜ë©´ í•˜ëŠ” ë²• ë§ì´ ë‚˜ì™€ìˆìŒ
- Android Studio IDE
  - SDK Android 10.0 (Q) ì´ìƒìœ¼ë¡œ ì„¤ì¹˜
  - AVD: Nexus 6P, S (API 31) ë¡œ ìƒì„±

</br>

### í”„ë¡œì íŠ¸ êµ¬ì¡° ë° ì‹¤í–‰ ê³¼ì •

</br>

<img width="966" alt="image" src="https://user-images.githubusercontent.com/40768187/178000035-ddc9b81f-1f5d-4800-9312-878f1d7a292d.png">

</br>

### í”„ë¡œì íŠ¸ ìƒì„± í´ë”

- **.gradle**: ë¹Œë“œ í™˜ê²½ ì„¤ì •
- **.idea**: Copyright, scope ë“± ì„¤ì •
- **app**: App ê´€ë ¨ source, resource íŒŒì¼, ì»´íŒŒì¼ í›„ ìƒì„±ë˜ëŠ” class íŒŒì¼
- **gradle**: Gradle wrapperëŠ” ì ì ˆí•œ Gradle binaryë¥¼ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•´ì£¼ëŠ” ê¸°ëŠ¥
- **.gitignore**: Gitì—ì„œ í”„ë¡œì íŠ¸ ë³„ ignoreí•  í•„ìš”ê°€ ìˆëŠ” íŒŒì¼ ë° í´ë” ì„¤ì •
- **build.gradle**: moduleì˜ ë¹Œë“œ ë°©ë²•ì´ ì •ì˜ëœ script, ë¹Œë“œì— ì‚¬ìš©í•  SDK ë²„ì „, ì•± ë²„ì „, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“± ì„¤ì •
- **gradle.properties**: Gradle ì†ì„± ì €ì¥
- **gradlew**: Gradle wrapperë¥¼ í†µí•´ ë¹Œë“œë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•œ script
- **gradlew.bat**: Gradle wrapperë¥¼ í†µí•´ ë¹Œë“œë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•œ script
- **local.properties**: Android SDK í´ë” ì§€ì •
- **settings.gradle**: Gradle ì„¤ì •

</br>

### app í´ë”

</br>

<img width="855" alt="image" src="https://user-images.githubusercontent.com/40768187/178004166-d21b824f-3a1f-46d4-9b67-f9c71eebc799.png">

</br>

### Apk íŒŒì¼ ìƒì„±

```Build``` > ```Generate Signed Bundle / APK ...``` > APK ì„ íƒ > Kesy store ```Create new```

</br>

<img width="580" alt="image" src="https://user-images.githubusercontent.com/40768187/178006121-17c02919-9773-41f6-abb2-5f2e99c4f2c6.png">

</br>

- Alias: apk íŒŒì¼ ë³„ëª…
- validity: ì‚¬ìš© ê¸°ê°„

</br>

```Next``` > ```Destination Folder``` ì„ íƒ í›„ ```release``` ì„ íƒ > ```Finish```

**+) ì•ˆë“œë¡œì´ë“œ 7.0 ë¶€í„°ëŠ” v2ì˜ ìƒˆë¡œìš´ ì„œëª… ë°©ì‹ì´ ì‚¬ìš© ê°€ëŠ¥í•¨**
</br>v1, v2 ë‘ê°€ì§€ ëª¨ë‘ ì²´í¬í•˜ëŠ” ê²ƒì´ í”Œë«í¼ì—ì„œ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë  ìˆ˜ ìˆì–´ì„œ ì¢‹ìŒ

Key store path ì— ê°€ë³´ë©´ jks íŒŒì¼ì´ ìƒì„± ë˜ì–´ ìˆê³ , Destination Folderì— ê°€ë³´ë©´ apk íŒŒì¼ì´ ìƒì„±ë˜ì–´ ìˆìŒ

</br>

## ğŸ“Œ Android Sensor ì‚¬ìš©í•˜ê¸°

### Sensor ì¢…ë¥˜
</br>

<img width="896" alt="image" src="https://user-images.githubusercontent.com/40768187/178008616-0c1f7e83-b4e2-48df-b84d-e7c1234c70da.png">

</br>

### AVDì—ì„œ Sensor ê°’ ì¡°ì •í•˜ê¸°

</br>

<img width="1423" alt="image" src="https://user-images.githubusercontent.com/40768187/178036995-69976a72-c677-46a0-8640-a561734aa32b.png">

</br>

AVD ì˜ ë©”ë‰´ íƒ­ì—ì„œ ```...``` ì„ ì„ íƒí•˜ê³ , Virtual sensors íƒ­ì— ë“¤ì–´ê°€ë©´ ì„¼ì„œ ì‹œë®¬ì„ í•´ë³¼ ìˆ˜ ìˆìŒ

</br>

### Sensor Code
</br>

<img width="504" alt="image" src="https://user-images.githubusercontent.com/40768187/178086810-49a2ace4-023a-4b37-937f-513845c412ab.png">

</br>

1. Sensor Manger Object ì„ ì–¸

    ```java
    SensorManger objSMG;
    ```

</br>

2. Sensor Object ì„ ì–¸
    ```java
    Sensor sensor_Gravity;
    ```

    </br>

3. onCreate() method - Sensor Manager Object ì§€ì •
   ```java
    objSMG = (SensorManager) getSystemService(SENSOR_SERVICE);
   ```

   </br>

4. onCreate() method - Sensor Object ì§€ì •
   ```java
    sensor_Gravity = objSMG.getDefaultSensor(Sensor.TYPE_GRAVITY);
   ```

   </br>

5. onResume() method - Register listener ì§€ì •
   ```java
    @Override
    public void onResume(){
        super.onResume();

        objSMG.registerListener((SensorEventListener) this, sensor_Gravity, SensorManager.SENSOR_DELAY_NORMAL);
    }
   ```

   </br>

6. onPause() method - Register listener í•´ì œ
   ```java
    @Override
    public void onPause(){
        super.onPause();
        objSMG.unregisterListener((SensorEventListener) this);
    }
   ```

   </br>

7. onSensorChanged() method - sensor ê°’ ë³€í™” ì²˜ë¦¬
   ```java
    @Override
    public void onSensorChanged(SensorEvent sensorEvent){
        switch (sensorEvent.sensor.getType()){
            case Sensor.TYPE_GRAVITY:
                objTv_X_Gravity.setText(("X: " + sensorEvent.values[0]));
                objTv_Y_Gravity.setText(("Y: " + sensorEvent.values[1]));
                objTv_Z_Gravity.setText(("Z: " + sensorEvent.values[2]));
                break;
        }
    }
   ```

   </br>

8. onAccuracyChanged() method - sensor ê°’ ë³€í™” ì²˜ë¦¬
    ```java
    @Override
    public void onAccuracyChanged(Sensor sensor, int i){
        //Call when sensor accuracy changed
    }
    ```

</br>

#### All Sensor Code

</br>

- Activiy java code

    <details>
    <summary>ì½”ë“œ ë³´ê¸°</summary>

        ```java
        package com.example.motionsensor_source;

        import androidx.appcompat.app.AppCompatActivity;

        import android.hardware.Sensor;
        import android.hardware.SensorEvent;
        import android.hardware.SensorEventListener;
        import android.hardware.SensorManager;
        import android.os.Bundle;
        import android.widget.TextView;

        import org.w3c.dom.Text;

        public class MainActivity extends AppCompatActivity implements SensorEventListener {

            SensorManager objSMG;

            Sensor sensor_Gravity;
            Sensor sensor_Accelerometer;
            Sensor sensor_LinearAcceleration;
            Sensor sensor_Gyroscope;

            TextView objTv_X_Gravity;
            TextView objTv_Y_Gravity;
            TextView objTv_Z_Gravity;

            TextView objTv_X_Accelerometer;
            TextView objTv_Y_Accelerometer;
            TextView objTv_Z_Accelerometer;


            TextView objTv_X_LinearAcceleration;
            TextView objTv_Y_LinearAcceleration;
            TextView objTv_Z_LinearAcceleration;

            TextView objTv_X_Gyroscope;
            TextView objTv_Y_Gyroscope;
            TextView objTv_Z_Gyroscope;



            @Override
            protected void onCreate(Bundle savedInstanceState) {
                super.onCreate(savedInstanceState);
                setContentView(R.layout.activity_main);

                objSMG = (SensorManager) getSystemService(SENSOR_SERVICE);
                sensor_Gravity = objSMG.getDefaultSensor(Sensor.TYPE_GRAVITY);
                sensor_Accelerometer = objSMG.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);
                sensor_LinearAcceleration = objSMG.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION);
                sensor_Gyroscope = objSMG.getDefaultSensor(Sensor.TYPE_GYROSCOPE);

                objTv_X_Gravity = findViewById(R.id.txtX_Gravity);
                objTv_Y_Gravity = findViewById(R.id.txtY_Gravity);
                objTv_Z_Gravity = findViewById(R.id.txtZ_Gravity);

                objTv_X_Accelerometer = findViewById(R.id.txtX_Accelerometer);
                objTv_Y_Accelerometer = findViewById(R.id.txtY_Accelerometer);
                objTv_Z_Accelerometer = findViewById(R.id.txtZ_Accelerometer);

                objTv_X_LinearAcceleration = findViewById(R.id.txtX_LinearAccelerometer);
                objTv_Y_LinearAcceleration = findViewById(R.id.txtY_LinearAccelerometer);
                objTv_Z_LinearAcceleration = findViewById(R.id.txtZ_LinearAccelerometer);

                objTv_X_Gyroscope = findViewById(R.id.txtX_Gyroscope);
                objTv_Y_Gyroscope = findViewById(R.id.txtY_Gyroscope);
                objTv_Z_Gyroscope = findViewById(R.id.txtZ_Gyroscope);
            }

            @Override
            public void onResume(){
                super.onResume();

                objSMG.registerListener((SensorEventListener) this, sensor_Gravity, SensorManager.SENSOR_DELAY_NORMAL);
                objSMG.registerListener((SensorEventListener) this, sensor_Accelerometer, SensorManager.SENSOR_DELAY_NORMAL);
                objSMG.registerListener((SensorEventListener) this, sensor_LinearAcceleration, SensorManager.SENSOR_DELAY_NORMAL);
                objSMG.registerListener((SensorEventListener) this, sensor_Gyroscope, SensorManager.SENSOR_DELAY_NORMAL);
            }

            @Override
            public void onPause(){
                super.onPause();
                objSMG.unregisterListener((SensorEventListener) this);
            }

            @Override
            public void onSensorChanged(SensorEvent sensorEvent){
                switch (sensorEvent.sensor.getType()){
                    case Sensor.TYPE_GRAVITY:
                        objTv_X_Gravity.setText(("X: " + sensorEvent.values[0]));
                        objTv_Y_Gravity.setText(("Y: " + sensorEvent.values[1]));
                        objTv_Z_Gravity.setText(("Z: " + sensorEvent.values[2]));
                        break;
                    case Sensor.TYPE_ACCELEROMETER:
                        objTv_X_Accelerometer.setText(("X: " + sensorEvent.values[0]));
                        objTv_Y_Accelerometer.setText(("Y: " + sensorEvent.values[1]));
                        objTv_Z_Accelerometer.setText(("Z: " + sensorEvent.values[2]));
                        break;
                    case Sensor.TYPE_LINEAR_ACCELERATION:
                        objTv_X_LinearAcceleration.setText(("X: " + sensorEvent.values[0]));
                        objTv_Y_LinearAcceleration.setText(("Y: " + sensorEvent.values[1]));
                        objTv_Z_LinearAcceleration.setText(("Z: " + sensorEvent.values[2]));
                        break;
                    case Sensor.TYPE_GYROSCOPE:
                        objTv_X_Gyroscope.setText(("X: " + sensorEvent.values[0]));
                        objTv_Y_Gyroscope.setText(("Y: " + sensorEvent.values[1]));
                        objTv_Z_Gyroscope.setText(("Z: " + sensorEvent.values[2]));
                        break;
                }
            }

            @Override
            public void onAccuracyChanged(Sensor sensor, int i){

            }
        }
        ```
    </details>

</br>

- layout
    <details>
    <summary>ì½”ë“œ ë³´ê¸°</summary>

    ```xml
    <?xml version="1.0" encoding="utf-8"?>
    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".MainActivity">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:layout_marginLeft="20dp"
            android:layout_marginRight="20dp"
            android:gravity="center">
            <TextView
                android:id="@+id/txtTitle_Gravity"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="#CACACA"
                android:text="Gravity"
                android:textAlignment="center"
                android:textStyle="normal|bold"
                android:textSize="18sp"
                android:layout_marginTop="20dp"
                />
            <TextView
                android:id="@+id/txtX_Gravity"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="X: "
                />
            <TextView
                android:id="@+id/txtY_Gravity"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Y: "
                />
            <TextView
                android:id="@+id/txtZ_Gravity"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Z: "
                android:layout_marginBottom="30dp"
                />

            <TextView
                android:id="@+id/txtTitle_Accelerometer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="20dp"
                android:background="#FFC107"
                android:text="Accelerometer"
                android:textAlignment="center"
                android:textSize="18sp"
                android:textStyle="normal|bold" />
            <TextView
                android:id="@+id/txtX_Accelerometer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="X: "
                />
            <TextView
                android:id="@+id/txtY_Accelerometer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Y: "
                />
            <TextView
                android:id="@+id/txtZ_Accelerometer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Z: "
                android:layout_marginBottom="30dp"
                />

            <TextView
                android:id="@+id/txtTitle_LinearAccelerometer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="20dp"
                android:background="#FF9800"
                android:text="Linear Accelerometer"
                android:textAlignment="center"
                android:textSize="18sp"
                android:textStyle="normal|bold" />
            <TextView
                android:id="@+id/txtX_LinearAccelerometer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="X: "
                />
            <TextView
                android:id="@+id/txtY_LinearAccelerometer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Y: "
                />
            <TextView
                android:id="@+id/txtZ_LinearAccelerometer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Z: "
                android:layout_marginBottom="30dp"
                />

            <TextView
                android:id="@+id/txtTitle_Gyroscope"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="20dp"
                android:background="#A1DD5B"
                android:text="Gyroscope"
                android:textAlignment="center"
                android:textSize="18sp"
                android:textStyle="normal|bold" />
            <TextView
                android:id="@+id/txtX_Gyroscope"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="X: "
                />
            <TextView
                android:id="@+id/txtY_Gyroscope"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Y: "
                />
            <TextView
                android:id="@+id/txtZ_Gyroscope"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Z: "
                />
        </LinearLayout>

    </androidx.constraintlayout.widget.ConstraintLayout>
    ```
    </details>

</br>

### Sensor Code - ì‘ìš©
</br>

![á„Œá…µá†«á„ƒá…©á†¼](https://user-images.githubusercontent.com/40768187/178110288-80f7f854-23dd-4a73-9d51-e8da11f8085e.gif)



Proximity Sensor ë¥¼ ì´ìš©í•˜ì—¬ 5cm ì´í•˜ë¡œ ì ‘ê·¼í•˜ë©´ ì§„ë™í•˜ë©´ì„œ emoticonì´ ë³€ê²½ë˜ë„ë¡ êµ¬í˜„

</br>

1. resource ì´ë¯¸ì§€ íŒŒì¼ ë„£ê¸°
</br>

    <img width="410" alt="image" src="https://user-images.githubusercontent.com/40768187/178110035-2ef3ef52-6c4c-48dd-ac66-79ed0dd4e88b.png">

    ```res``` > ```drawable``` ì— ì €ì¥

    </br>

2. UI ì„¤ê³„

    ```xml
    <?xml version="1.0" encoding="utf-8"?>
    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".MainActivity">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:gravity="center">
            <ImageView
                android:id="@+id/imageView"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                app:srcCompat="@drawable/emoticon1"
                />
        </LinearLayout>

    </androidx.constraintlayout.widget.ConstraintLayout>
    ```

</br>

3. ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ xml íŒŒì¼ ì‘ì„±

    ```xml
    <?xml version="1.0" encoding="utf-8"?>
    <set xmlns:android="http://schemas.android.com/apk/res/android">
        <translate
            android:fromYDelta="-2%"
            android:toYDelta="2%"
            android:duration="100"
            android:repeatCount="10"
        />
    </set>
    ```
    ```res``` íŒŒì¼ í•˜ìœ„ íŒŒì¼ë¡œ ```anim``` ì„ ë§Œë“¤ê³  xml íŒŒì¼ ìƒì„± í›„ ì‘ì„±

</br>

4. ```AndroidManifest.xml``` ì—ì„œ ê¶Œí•œ ì£¼ê¸°

    ```xml
    <uses-permission android:name="android.permission.VIBRATE"/>
    ```

</br>

5. onSensorChanged(), onAccuracyChanged() method
   
   ```java
    @Override
    public void onSensorChanged(SensorEvent event) {
        if(event.sensor.getType() == Sensor.TYPE_PROXIMITY){
            if(event.values[0] <= 5){
                Animation objANI = AnimationUtils.loadAnimation(this, R.anim.jumping);
                imageView.setImageResource(R.drawable.emoticon2);
                imageView.startAnimation(objANI);
                vibrator.vibrate(1000);
            }
            else{
                imageView.setImageResource(R.drawable.emoticon1);
            }
        }
    }

    @Override
    public void onAccuracyChanged(Sensor sensor, int accuracy) {

    }
   ```

6. ë‚˜ë¨¸ì§€ ì½”ë“œëŠ” ìœ„ì—ì„œ ì‘ì„±í•œ ì½”ë“œ ì‚¬ìš©í•˜ë©´ ë¨ (```imageView``` ì„ ì–¸ ìŠì§€ ë§ ê²ƒ)

___

</br>
</br>

![á„Œá…¥á†«á„€á…®](https://user-images.githubusercontent.com/40768187/178112069-30f70932-d455-481e-b49b-2ba3e6197bfb.gif)

Light sensorë¥¼ í™œìš©í•˜ì—¬ ì¡°ë„ê°€ 80 luxì´í•˜ì´ë©´ SmartPhoneì˜ flashlightë¥¼ turn-on ì‹œí‚¤ë„ë¡ êµ¬í˜„

</br>

1. ```res``` > ```Drawable``` ì— ì´ë¯¸ì§€ íŒŒì¼ ë³µë¶™ (ìœ„ ì‹¤ìŠµì˜ ì´ëª¨í‹°ì½˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ë„£ìœ¼ë©´ ë¨)

</br>

2. UI ì„¤ê³„

    ```xml
    <?xml version="1.0" encoding="utf-8"?>
    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".MainActivity">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:gravity="center">
        <TextView
            android:id="@+id/txtLux"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="15dp"
            android:text="Lux"
            android:textSize="15sp"
            android:textAlignment="center"
            />
        </LinearLayout>
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:gravity="center">

            <ImageView
                android:id="@+id/imageView"
                android:layout_width="145dp"
                android:layout_height="206dp"
                android:scaleType="fitCenter"
                app:srcCompat="@drawable/lightoff" />

        </LinearLayout>
    </androidx.constraintlayout.widget.ConstraintLayout>
    ```

</br>

4. ```AndroidManifest.xml``` ì—ì„œ ê¶Œí•œ ì£¼ê¸°

    ```xml
    <uses-permission android:name="android.permission.CAMERA"/>
    <uses-feature android:name="android.hardware.camera.flash"/>
    <uses-permission android:name="android.permission.FLASHLIGHT"/>
    ```

ê°•ì˜ ìë£Œì˜ ì½”ë“œëŒ€ë¡œ ì§„í–‰í•˜ë©´ ì‹¤í–‰ë˜ì§€ ì•Šì•„ ë‹¤ë¥¸ ì½”ë“œë¥¼ ì°¾ì•„ ì‘ì„±í•˜ì˜€ìŒ

5. onCreate() method

    ```java
        SensorManager objSMG;
        Sensor sensor_Illuminance;
        
        ImageView objIMG;
        TextView objTV_Lux;

        CameraManager mCameraManager = null;
        boolean mCameraFlag = false; //TODO [ON = true / OFF = false]

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            objSMG = (SensorManager) getSystemService(SENSOR_SERVICE);
            sensor_Illuminance = objSMG.getDefaultSensor(Sensor.TYPE_LIGHT);

            objIMG = findViewById(R.id.imageView);
            objTV_Lux = findViewById(R.id.txtLux);
        }
    ```

</br>

6. onResume(), onPause(), onDestroy() mthond

    ```java
        @Override
        protected void onResume() {
            super.onResume();

            objSMG.registerListener(this, sensor_Illuminance, SensorManager.SENSOR_DELAY_NORMAL);
        }

        @Override
        protected void onPause() {
            super.onPause();
            objSMG.unregisterListener(this);
        }

        @Override
        protected void onDestroy() {
            super.onDestroy();
        }
    ```

</br>

7. onSensorChanged() method 

    ì›ë˜ëŠ” ```cameraFlashON``` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ```setFlashMode```ë¡œ ë°”ë¡œ ì¼œì£¼ë ¤ í–ˆìœ¼ë‚˜, </br>
    ```cameraParameter``` ê°€ ê³„ì† null ê°’ì´ ë“¤ì–´ê°€ì„œ ë³€ê²½í•¨
   
    ```java
        @Override
            public void onSensorChanged(SensorEvent event) {
                if(event.sensor.getType() == Sensor.TYPE_LIGHT) {
                    int iLux = (int) event.values[0];
                    objTV_Lux.setText(("Lux: " + iLux));

                    if (iLux <= 80) {
                        objIMG.setImageResource(R.drawable.lighton);
                        cameraFlashON();
                    } else {
                        objIMG.setImageResource(R.drawable.lightoff);

                        cameraFlashOFF();
                    }
                }
            }
    ```

</br>

8. cameraFlashON(), cameraFlashOFF() method

    <details>
    <summary>ì½”ë“œ ë³´ê¸°</summary>

    ```java
    public void cameraFlashON(){
            //TODO [hasSystemFeature FEATURE_CAMERA_FLASH ì‚¬ìš©í•´ í›„ë ˆì‰¬ ì§€ì› ì²´í¬ ì‹¤ì‹œ]
            if (getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_FLASH)) { // [ì¹´ë©”ë¼ í›„ë ˆì‰¬ ê¸°ëŠ¥ ì§€ì›]
                try {
                        mCameraManager = (CameraManager) getSystemService(CAMERA_SERVICE); // [ì¹´ë©”ë¼ ê°ì²´ ì„œë¹„ìŠ¤ ìƒì„±]
                        String cameraId = ""; // [ì¹´ë©”ë¼ ì•„ì´ë”” ê°’ ì €ì¥]
                        for (String id : mCameraManager.getCameraIdList()) { // [ì¹´ë©”ë¼ ì•„ì´ë”” ê°’ ì°¾ìŒ]
                            CameraCharacteristics c = mCameraManager.getCameraCharacteristics(id);
                            Boolean flashAvailable = c.get(CameraCharacteristics.FLASH_INFO_AVAILABLE);
                            Integer lensFacing = c.get(CameraCharacteristics.LENS_FACING);
                            if (flashAvailable != null && lensFacing == CameraCharacteristics.LENS_FACING_BACK) {
                                cameraId = id;
                                break;
                            }
                        }
                        if(cameraId != null && cameraId.length() > 0 && !cameraId.equals("") && !cameraId.contains("null")){
                            if(mCameraFlag == false){ // [ì¹´ë©”ë¼ê°€ OFF ìƒíƒœì¼ ê²½ìš°]
                                mCameraManager.setTorchMode(cameraId, true);
                                mCameraFlag = true;
                            }
                        }
                        else {
                            mCameraFlag = false;
                            Toast.makeText(getApplication(), "ì¹´ë©”ë¼ ì•„ì´ë”” ê°’ì„ í™•ì¸í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.",Toast.LENGTH_SHORT).show();
                        }

                } catch (Exception e) {
                    mCameraFlag = false;
                    e.printStackTrace();
                }
            }
            else { // [ì¹´ë©”ë¼ í›„ë ˆì‰¬ ê¸°ëŠ¥ ì§€ì› ì•ˆí•¨]
                mCameraFlag = false;
                Toast.makeText(getApplication(), "ì¹´ë©”ë¼ í›„ë ˆì‰¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ê¸°ì…ë‹ˆë‹¤.",Toast.LENGTH_SHORT).show();
            }
        }

        public void cameraFlashOFF() {
            //TODO [hasSystemFeature FEATURE_CAMERA_FLASH ì‚¬ìš©í•´ í›„ë ˆì‰¬ ì§€ì› ì²´í¬ ì‹¤ì‹œ]
            if (getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_FLASH)) { // [ì¹´ë©”ë¼ í›„ë ˆì‰¬ ê¸°ëŠ¥ ì§€ì›]
                try {
                        mCameraManager = (CameraManager) getSystemService(CAMERA_SERVICE); // [ì¹´ë©”ë¼ ê°ì²´ ì„œë¹„ìŠ¤ ìƒì„±]
                        String cameraId = ""; // [ì¹´ë©”ë¼ ì•„ì´ë”” ê°’ ì €ì¥]
                        for (String id : mCameraManager.getCameraIdList()) { // [ì¹´ë©”ë¼ ì•„ì´ë”” ê°’ ì°¾ìŒ]
                            CameraCharacteristics c = mCameraManager.getCameraCharacteristics(id);
                            Boolean flashAvailable = c.get(CameraCharacteristics.FLASH_INFO_AVAILABLE);
                            Integer lensFacing = c.get(CameraCharacteristics.LENS_FACING);
                            if (flashAvailable != null && lensFacing == CameraCharacteristics.LENS_FACING_BACK) {
                                cameraId = id;
                                break;
                            }
                        }
                        if (cameraId != null && cameraId.length() > 0 && !cameraId.equals("") && !cameraId.contains("null")) {
                            if (mCameraFlag == true) { // [ì¹´ë©”ë¼ ON ìƒíƒœì¸ ê²½ìš°]
                                mCameraManager.setTorchMode(cameraId, false);
                                mCameraFlag = false;
                            }
                        } else {
                            mCameraFlag = false;
                            Toast.makeText(getApplication(), "ì¹´ë©”ë¼ ì•„ì´ë”” ê°’ì„ í™•ì¸í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.", Toast.LENGTH_SHORT).show();
                        }
                } catch (Exception e) {
                    mCameraFlag = false;
                    e.printStackTrace();
                }
            } else { // [ì¹´ë©”ë¼ í›„ë ˆì‰¬ ê¸°ëŠ¥ ì§€ì› ì•ˆí•¨]
                mCameraFlag = false;
                Toast.makeText(getApplication(), "ì¹´ë©”ë¼ í›„ë ˆì‰¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ê¸°ì…ë‹ˆë‹¤.", Toast.LENGTH_SHORT).show();
            }
        }
    ```
    </details>

</br>

### Android DB ì—°ë™ - SQLite

</br>

<img width="780" alt="image" src="https://user-images.githubusercontent.com/40768187/178113818-4f42bbad-2843-4f6c-b064-18b973b34f5b.png">

</br>

- Cursor: íŠ¹ì • record ì§€ì •, ë°ì´í„° ë°˜í™˜
    
    - ì½”ë“œ ì˜ˆì œ

        ```java
        //ëª¨ë“  ë ˆì½”ë“œ ë°˜í™˜
        Cursor allRCD = db.query("members", null, null, null, null, null, null, null);

        //Name = google ë ˆì½”ë“œ ë°˜í™˜
        Cursor allRCD = db.query("members", null, "Name = 'google'", null, null, null, null, null);

        String strName = allRCD.getString(1);   //Name ë°˜í™˜

        long lgPhoneNo = allRCD.getString(2);   //Phone_No ë°˜í™˜
        ```

    - Cursor interfaceì˜ Method

        <img width="823" alt="image" src="https://user-images.githubusercontent.com/40768187/178114276-8e2c0869-03dd-405d-b2fb-e7b5f33fccc1.png">

</br>

- ContentValues: recordì™€ ë™ì¼, ë°ì´í„° ì €ì¥

    ```java
        ContentValues insertValue = new ContentValues();    //ë°ì´í„° ì…ë ¥
        insertValue.put("CarType", "Benz320");
        insertValue.put("CarPower", "3200");
        db.insert("Carlist", null, insertValue);    //ë ˆì½”ë“œ ì¶”ê°€
    ```

</br>

### Sensor Code - ì‘ìš©
</br>

<img width="508" alt="image" src="https://user-images.githubusercontent.com/40768187/178114501-15a4a607-cfac-4b37-9d6d-6f26ee8f1e47.png">

</br>

-  ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ Carlist í…Œì´ë¸”ì— ì…ë ¥ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë„ë¡ [Insert] Button event handlerë¥¼ êµ¬í˜„
-  ListViewì—ì„œ í•´ë‹¹ itemì„ í´ë¦­í•˜ë©´ í•´ë‹¹ itemì„ "CarType"ê³¼ "CarPower"ë¡œ ë¶„ë¦¬í•˜ì—¬ ê° editTextì— ì§€ì •í•˜ë„ë¡ êµ¬í˜„
-  ê° Button Event Handelr êµ¬í˜„

</br>

1. UI ì„¤ê³„

    <details>
    <summary>ì½”ë“œ ë³´ê¸°</summary>

    ```xml
    <?xml version="1.0" encoding="utf-8"?>
    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".MainActivity">


        <TextView
            android:id="@+id/textTitle"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:text="Car Mnage System"
            android:gravity="center"
            android:textSize="20dp"
            android:layout_marginLeft="17dp"/>

        <TextView
            android:id="@+id/txtCarType"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_below="@+id/textTitle"
            android:text="Type :"
            android:layout_marginTop="34dp"
            android:layout_marginLeft="5dp"/>

        <EditText
            android:id="@+id/editCarType"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:ems="8"
            android:layout_alignBaseline="@+id/txtCarType"
            android:layout_alignBottom="@+id/txtCarType"
            android:layout_marginLeft="14dp"
            android:layout_toRightOf="@+id/txtCarType"/>
        <requestFocus/>

        <TextView
            android:id="@+id/txtCarPower"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Power :"
            android:layout_below="@+id/editCarType"
            android:layout_marginTop="20dp"
            android:layout_marginLeft="5dp" />


        <EditText
            android:id="@+id/editCarPower"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:ems="8"
            android:layout_alignLeft="@+id/editCarType"
            android:layout_below="@+id/editCarType"/>

        <Button
            android:id="@+id/btnInsert"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Insert"
            android:textSize="12dp"
            android:layout_alignParentEnd="true"
            android:layout_alignBottom="@+id/txtCarType"/>

        <Button
            android:id="@+id/btnUpdate"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Update"
            android:textSize="12dp"
            android:layout_alignBottom="@id/txtCarPower"
            android:layout_alignParentEnd="true"/>

        <Button
            android:id="@+id/btnDelete"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Delete"
            android:textSize="12dp"
            android:layout_below="@id/btnUpdate"
            android:layout_alignParentEnd="true"/>

        <Button
            android:id="@+id/btnSearch"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Search"
            android:textSize="12dp"
            android:layout_below="@id/btnDelete"
            android:layout_alignParentEnd="true"/>

        <ListView
            android:id="@+id/lstMember"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@+id/btnSearch" />

    </RelativeLayout>
    ```
    </details>

</br>

2. DB ì—°ë™

    ```java
    public class MainActivity extends AppCompatActivity implements View.OnClickListener {
        //eventListenerë¥¼ implements ë¥¼ ì‚¬ìš©í•˜ê³ , setOnClickListenr(this) ë¡œ êµ¬í˜„í•´ì£¼ë©´ ì½”ë“œ ê°€ë…ì„±ì´ ì¢‹ì•„ì§

        SQLiteDatabase db;
        ArrayList<String> aryMBRList;
        ArrayAdapter<String> adtMembers;
        ListView listView;

        String strRecord = null;
        ContentValues insertValue;
        Cursor allRCD;

        Button btnInsert, btnUpdate, btnDelete, btnSearch;
        EditText edtCarType, edtCarPower;
    ```
</br>

3. ListView item click event handler

    ```java
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        edtCarType = findViewById(R.id.editCarType);
        edtCarPower = findViewById(R.id.editCarPower);

        btnInsert = findViewById(R.id.btnInsert);
        btnInsert.setOnClickListener(this);

        btnUpdate = findViewById(R.id.btnUpdate);
        btnUpdate.setOnClickListener(this);

        btnDelete = findViewById(R.id.btnDelete);
        btnDelete.setOnClickListener(this);

        btnSearch = findViewById(R.id.btnSearch);
        btnSearch.setOnClickListener(this);

        listView = findViewById(R.id.lstMember);
        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            //listView ì¤‘ í•œ í•­ëª©ì„ í´ë¦­í–ˆì„ ë•Œì˜ Listener

            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                String[] data = aryMBRList.get(position).toString().split("\t\t");

                edtCarType.setText(data[0]);
                edtCarPower.setText(data[1]);
            }
        });
    ```

</br>

4. Create DB

    ```java
        //onCreate() ë‚´ì— ì‘ì„±ëœ ì½”ë“œ
            db = this.openOrCreateDatabase("CarInformation", MODE_PRIVATE, null);

            //SQL ì‘ì„±ë²• 1
            db.execSQL("Drop table if exists Carlist");

            db.execSQL("Create table Carlist (" + " _id integer primary key autoincrement, " + "CarType text not null, " + "CarPower text not null);");
            db.execSQL("Insert into Carlist " + "(CarType, CarPower) values ('BMW 528i', '2800');");

            //SQL ì‘ì„±ë²• 2
            insertValue = new ContentValues();
            insertValue.put("CarType", "Benz320");
            insertValue.put("CarPower", "3200");
            db.insert("Carlist", null, insertValue);

            getDBData(null);

            if(db != null) db.close();
    ```
</br>

5. getDBData() method: Get DB data from Carlist table

    ```java
        public void getDBData(String strWhere){
            allRCD = db.query("Carlist", null, strWhere, null, null, null, null, null);

            aryMBRList = new ArrayList<>();

            if(allRCD != null){
                if(allRCD.moveToFirst()){
                    do{
                        strRecord = allRCD.getString(1) + "\t\t" + allRCD.getString(2);
                        aryMBRList.add(strRecord);  //arrayList ì— ì¶”ê°€
                    }while(allRCD.moveToNext());
                }
            }

            adtMembers = new ArrayAdapter<>(this, android.R.layout.simple_list_item_single_choice, aryMBRList);

            listView.setAdapter(adtMembers);
            listView.setChoiceMode(ListView.CHOICE_MODE_SINGLE);
        }
    ```

6. Button EventHandler êµ¬í˜„

    ```java
        @Override
        public void onClick(View v) {
            db = this.openOrCreateDatabase("CarInformation", MODE_PRIVATE, null);

            if(v == btnInsert){
                insertValue = new ContentValues();
                insertValue.put("CarType", edtCarType.getText().toString());
                insertValue.put("CarPower", edtCarPower.getText().toString());
                db.insert("Carlist", null, insertValue);

                getDBData(null);
            }
            else if(v == btnUpdate){
                db.execSQL("update Carlist set CarType = " + "'" + edtCarType.getText().toString() + "', " +
                        "CarPower = " + "'" + edtCarPower.getText().toString() + "'" + "where CarType = " + "'" + edtCarType.getText().toString() + "'" + ';');
                getDBData(null);
            }
            else if(v == btnDelete){
                db.execSQL("delete from Carlist where CarType = " + "'"+ edtCarType.getText().toString()+"'" +";");
                getDBData(null);
            }
            else if(v == btnSearch){
                String strSQL = "CarType = '" + edtCarType.getText().toString() + "'" ;
                getDBData(strSQL);
            }

            if(db != null) db.close();
        }
    ```

### Android DB í™•ì¸

0. AVD ë¡œ ì•±ì„ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì—¬ì•¼ í•¨

1. íŒŒì¼ ê²½ë¡œ í™•ì¸

    ```Android``` > ```SDK``` > ```platform-tools```

    </br>

   - íŒŒì¼ ê²½ë¡œ

       Appdata íŒŒì¼ì´ ìˆ¨ê¹€ì²˜ë¦¬ ë˜ì–´ìˆì„ ìˆ˜ ìˆìŒ

       **Window**  ```C:\Users\Won-Joo\AppData\Local\Android\sdk\platform-tools``` </br>

       User í´ë”ì—ì„œ ì˜¤ë¥¸ìª½ í´ë¦­ í›„ ```ë³´ê¸° ì˜µì…˜``` > ```ë¼ì´ë¸ŒëŸ¬ë¦¬ í´ë” ë³´ê¸°``` í´ë¦­ > ë¼ì´ë¸ŒëŸ¬ë¦¬ > ```Android``` íŒŒì¼ í™•ì¸</br>

       **Mac**  ```/Users/seoyejin/Library/Android/sdk/platform-tools```

</br>

2. ëª…ë ¹ í”„ë¡¬í”„íŠ¸ ì‹¤í–‰
   
   ìœ„ì—ì„œ í™•ì¸í•œ ê²½ë¡œë¡œ ì´ë™ í›„ ```abd shell``` ëª…ë ¹ì–´ ì‹¤í–‰

    <img width="596" alt="image" src="https://user-images.githubusercontent.com/40768187/178128225-01e0d91d-9251-44de-8a45-fa0ee47e765e.png">

    ìœ„ ì‚¬ì§„ì˜ ìƒíƒœì—ì„œ ```su``` ë¡œ ê¶Œí•œ íšë“ í›„ ì•„ë˜ ëª…ë ¹ì–´ ì‹¤í–‰

   ```shell
   cd /data/data/<íŒ¨í‚¤ì§€ëª…>.<í”„ë¡œì íŠ¸ëª…>

   cd ./Database     # mac ì—ì„œëŠ” /database ì˜€ìŒ

   sqlite3 <database ì´ë¦„>

   .table

   Select * from <table ì´ë¦„>; # table ì— ì €ì¥ëœ ë°ì´í„° í™•ì¸
   ```

    <img width="743" alt="image" src="https://user-images.githubusercontent.com/40768187/178128294-51cfcac6-c87e-42c9-86fd-da722267e29b.png">

</br>

### Android DB ì—°ë™ - Firebase

</br>

#### Firebase?

- Mobile, Web Application Development Platform
- NoSQL Cloud Real-time Database

**íŠ¹ì§•**
- ë°ì´í„°ëŠ” JSON ìœ¼ë¡œ ì €ì¥
- ëª¨ë“  Client ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”
- App ì´ ì˜¤í”„ë¼ì¸ì¼ ë•Œë„ ë°ì´í„° ì‚¬ìš©
- iOS, Android, ìë°”ìŠ¤í¬ë¦½íŠ¸ SDK ë¡œ êµì°¨ í”Œë«í¼ ì•± ê°œë°œ
  - ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ê°€ í•˜ë‚˜ì˜ ì‹¤ì‹œê°„ ë°ì´í„°ë² ì´ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ê³µìœ 
  - ìë™ ì—…ë°ì´íŠ¸ë¡œ ìµœì‹  ë°ì´í„° ìˆ˜ì‹ 

</br>

#### Implementaion path

</br>

<img width="836" alt="image" src="https://user-images.githubusercontent.com/40768187/178128398-f08180c6-70ac-4a71-8ea3-7d469514efc6.png">

</br>

#### Firebase ì—°ë™ ì‚¬ì „ ì¤€ë¹„

- Prerequisites
  - Android Studio (Latest version)
  - Project Requirements 
    - API 16 or later
    - Gradle 4.1 or later
  - Physical device or Emulator with Google Play
  - Google account

</br>

#### Firebase ì—°ë™ ë°©ë²• 2ê°€ì§€

1. Firebase console (recommended)
2. Android Studio Firebase Assistant

</br>

#### Cloud Firestore vs. Realtime Database

- Cloud Firestore

    Realtime Database ë³´ë‹¤ ë” í’ë¶€í•˜ê³  ë¹ ë¥¸ ì¿¼ë¦¬ë¥¼ ì œê³µí•¨</br>
    ë°ì´í„°ì˜ ìš©ëŸ‰ì´ ë§ì„ ê²½ìš° Firestore ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ìŒ

- Realtime Database

    í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”ëœ ìƒíƒœê°€ í•„ìš”í•œ ëª¨ë°”ì¼ ì•±ì„ ìœ„í•œ íš¨ìœ¨ì ì´ê³  ëŒ€ê¸° ì‹œê°„ì´ ì§§ìŒ

</br>

#### Realtime Database Event Handler

- addValueEventListener()
  - ë°ì´í„°ì˜ ë³€í™”ê°€ ìˆì„ ë•Œ Call
  - Firebase DB ì—ì„œ ì „ì²´ ê°ì²´ (JSON êµ¬ì¡°) read

| Function Name  | Document                                        |
| -------------- | ----------------------------------------------- |
| onDataChange() | DBì— ë°ì´í„°ê°€ ë³€í™”(ì¶”ê°€ ë“±)ê°€ ìˆì„ ë•Œ ìë™ í˜¸ì¶œ |
| onCancelled()  | DBì— í†µì‹  ì‹¤íŒ¨ ë“± ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ìë™ í˜¸ì¶œ  |

- addChildEventListener()
  - ë°ì´í„°ê°€ ì¶”ê°€ë˜ì—ˆì„ ë•Œ Call
  - Firebase DBì— ì§€ì •í•œ child ê°ì²´ë§Œ read

<img width="904" alt="image" src="https://user-images.githubusercontent.com/40768187/178147564-3f67fdcb-18e6-43d3-b305-9d78e6c0cd4b.png">

</br>

#### ì‹¤ìŠµ

</br>

<img width="507" alt="image" src="https://user-images.githubusercontent.com/40768187/178148151-39005d11-12ed-42d5-987a-c2975f0382ff.png">

</br>

#### Firebase Console ë°©ë²•

</br>

**Code ì‘ì„±**

1. UI ì„¤ê³„

    <details>
    <summary>ì½”ë“œ ë³´ê¸°</summary>

    ```xml
    <?xml version="1.0" encoding="utf-8"?>
    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".MainActivity">

        <TextView
            android:id="@+id/txtTitle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:text="Customer Relationship Management"
            android:textSize="18sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            />

        <TextView
            android:id="@+id/txtName"
            android:layout_width="wrap_content"
            android:layout_height="19dp"
            android:layout_marginStart="16dp"
            android:layout_marginTop="70dp"
            android:text="Name :"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"/>

        <EditText
            android:id="@+id/edtCustomerName"
            android:layout_width="202dp"
            android:layout_height="48dp"
            android:ems="10"
            android:inputType="textPersonName"
            android:layout_marginStart="29dp"
            android:layout_marginTop="26dp"
            android:layout_marginEnd="39dp"
            app:layout_constraintEnd_toStartOf="@+id/btnInsert"
            app:layout_constraintStart_toEndOf="@+id/txtName"
            app:layout_constraintTop_toBottomOf="@+id/txtTitle"
            />

        <TextView
            android:id="@+id/txtPhoneNo"
            android:layout_width="wrap_content"
            android:layout_height="19dp"
            android:layout_marginTop="20dp"
            android:text="Phone_No :"
            app:layout_constraintTop_toBottomOf="@+id/txtName"
            app:layout_constraintEnd_toStartOf="@+id/edtCustomerPhoneNo"
            app:layout_constraintStart_toStartOf="@+id/txtName"
        />

        <EditText
            android:id="@+id/edtCustomerPhoneNo"
            android:layout_width="202dp"
            android:layout_height="48dp"
            android:ems="10"

            android:inputType="phone"
            app:layout_constraintStart_toEndOf="@+id/txtPhoneNo"
            app:layout_constraintTop_toBottomOf="@id/edtCustomerName"
            app:layout_constraintStart_toStartOf="@id/edtCustomerName"
            />

        <Button
            android:id="@+id/btnInsert"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:text="Insert"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toBottomOf="@id/edtCustomerPhoneNo"/>


        <EditText
            android:id="@+id/txtFirebase"
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:text="[ Firebase Value ]"
            android:layout_marginEnd="11dp"
            android:layout_marginBottom="18dp"
            android:layout_marginStart="11dp"
            android:gravity="start|top"
            android:inputType="textMultiLine"
            android:ems="10"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/btnInsert"
            />

    </androidx.constraintlayout.widget.ConstraintLayout>
    ```
    </details>

2. AndroidManifest ì—ì„œ ê¶Œí•œ ì£¼ê¸°

    ```xml
        <uses-permission android:name="android.permission.INTERNET"/>
        <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    ```
    ì‘ì„±í•˜ë©´ì„œ ì•ˆ ì‚¬ì‹¤ì¸ë°, Android Studio Assistant ì‚¬ìš© ì‹œì—ëŠ” ìœ„ êµ¬ë¬¸ì„ ì‘ì„±í•  í•„ìš”ê°€ ì—†ìŒ

</br>

3. MainActivity

    ```java
        FirebaseDatabase myFirebase;    // Firebase Object
        DatabaseReference databaseReference = null;     // Firebase DB Reference

        // HashMap<String, Object> childNode = null;
        HashMap<String, Object> Customer_Value = null;

        TextView txtFirebase;
        EditText edtCustomerName;
        Button btnInsert;
        String strHeader = "Customer Information";      // Firebase Key
        String strCName = null;

        String strCphone_No = null;
        EditText edtCustomerPhone_No;

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            txtFirebase = findViewById(R.id.txtFirebase);
            edtCustomerName = findViewById(R.id.edtCustomerName);
            edtCustomerPhone_No = findViewById(R.id.edtCustomerPhoneNo);

            btnInsert = findViewById(R.id.btnInsert);
            btnInsert.setOnClickListener(this);

            myFirebase = FirebaseDatabase.getInstance();        // Get FirebaseDatabase Instance
            databaseReference = myFirebase.getReference();      // Get Firebase Reference

            Customer_Value = new HashMap<>();       // Create HashMap
        }
    ```

</br>

- [Insert] button event handler

    ```java
        @Override
        public void onClick(View v) {
            switch (v.getId()){
                case R.id.btnInsert:
                    strCName = edtCustomerName.getText().toString();
                    strCphone_No = edtCustomerPhone_No.getText().toString();

                    if(!strCName.equals("")){
                        Customer_Value.put("Name", strCName);       // HashMap("Name", strCName)
                        Customer_Value.put("Phone_No", strCphone_No);

                        mSet_FirebaseDatabase(true);    // App -> Firebase DB
                        mGet_FirebaseDatabase();        // Firebase DB -> App
                    }
                    edtCustomerName.setText("");
                    edtCustomerPhone_No.setText("");
                    break;
                default:
                    edtCustomerName.setText("");
                    edtCustomerPhone_No.setText("");
                    break;
            }
        }
    ```

- mSetFirebaseDatabase()
  - Data : App -> Firebase DB

    ```java
        private void mGet_FirebaseDatabase() {
            ValueEventListener postListener = new ValueEventListener() {
                @Override
                public void onDataChange(@NonNull DataSnapshot snapshot) {
                    txtFirebase.setText("Firebase Value : ");
                    long iRecordCount = snapshot.getChildrenCount();
                    int iCnt = 0;

                    for (DataSnapshot postSnapshot : snapshot.getChildren()){
                        iCnt++;
                        String strKey = postSnapshot.getKey();
                        Object strValue = postSnapshot.getValue();

                        txtFirebase.append("\n" + iCnt + " : " + strKey);
                        txtFirebase.append("\n" + "\t = " + strValue);
                    }
                }

                @Override
                public void onCancelled(@NonNull DatabaseError error) {
                    Log.w("Tag: ", "Failed to read value", error.toException());
                }
            };

            Query sortbyName = FirebaseDatabase.getInstance().getReference().child(strHeader).orderByChild(strCName);
            sortbyName.addListenerForSingleValueEvent(postListener);
        }
    ```

- mGetFirebaseDatabase()
  - Data : Firebase DB -> App

    ```java
    private void mSet_FirebaseDatabase(boolean b) {
            // bFlag = true(add) / false(delete)
            if(b){
                databaseReference.child(strHeader).child(strCphone_No).setValue(Customer_Value);
            }
        }
    ```

</br>

**Firebase í”„ë¡œì íŠ¸ ìƒì„±, ì•± ë“±ë¡**

https://firebase.google.com/?hl=ko

</br>

1. í”„ë¡œì íŠ¸ ì´ë¦„ ì‘ì„± > ì• ë„ë¦¬í‹±ìŠ¤ on/off > ì• ë„ë¦¬í‹±ìŠ¤ ê³„ì • ì„ íƒ í›„ ```í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°```

    <img width="1657" alt="image" src="https://user-images.githubusercontent.com/40768187/178149096-1e716eb9-802b-4652-8c0e-b3c55e946aa2.png">
    <img width="944" alt="image" src="https://user-images.githubusercontent.com/40768187/178149112-9330928e-9bc2-4013-943a-c7aac31d67cb.png">
    <img width="1306" alt="image" src="https://user-images.githubusercontent.com/40768187/178149141-74a77d92-656f-4682-94ee-676e22d05e5e.png">

</br>

1. ì•ˆë“œë¡œì´ë“œ ì•± ì •ë³´ ì‘ì„±

    <img width="1020" alt="image" src="https://user-images.githubusercontent.com/40768187/178149366-8826a1d2-daa3-4bbf-bc7b-b432c74f7890.png">
    
    <img width="678" alt="image" src="https://user-images.githubusercontent.com/40768187/178149464-0719b966-7f40-4d07-890c-907f24b80c93.png">

    </br>

2. json íŒŒì¼ í”„ë¡œì íŠ¸ì— ì¶”ê°€

    <img width="839" alt="image" src="https://user-images.githubusercontent.com/40768187/178149498-714554b7-94e5-4f4c-9fc9-61424ddb6b78.png">

</br>

4. build gradle ì„¤ì •

    <img width="677" alt="image" src="https://user-images.githubusercontent.com/40768187/178149514-e84bf1fc-384a-43b9-bb86-9880347a4907.png">

    ìœ„ì˜ ì„¤ì •ì€ ```build.gradle(Project)``` ì—, ì•„ë˜ ì„¤ì •ì€ ```build.gradle(Module)``` ì— ì‘ì„±í•˜ë©´ ë¨ </br>
    ~~ê·¸ëŸ¬ë‚˜ ìœ„ì—ì„œ ì•ˆë‚´í•œ ëŒ€ë¡œ ì„¤ì •í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•¨~~

    ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ì„œ í•´ê²°í–ˆìŒ (Project ìˆ˜ì¤€ì˜ ì„¤ì • íŒŒì¼)

    ```gradle
    buildscript {           //build ê´€ë ¨ ì„¤ì •ì€ ìƒë‹¨ì— ì‘ì„±í•´ì•¼ í•¨ 
        dependencies {
            // Add this line
            classpath 'com.google.gms:google-services:4.3.13'

        }
    }
    
    // repositories ì„¤ì •ì„ ì œì™¸í•œ ì´ìœ ëŠ” settings.gradle ì— ì´ë¯¸ í¬í•¨ëœ ìƒíƒœì´ê¸° ë•Œë¬¸ì„

    plugins {
        id 'com.android.application' version '7.2.1' apply false
        id 'com.android.library' version '7.2.1' apply false
    }

    task clean(type: Delete) {
        delete rootProject.buildDir
    }
    ```
 
    </br>

    Module ìˆ˜ì¤€ì˜ ì„¤ì • ì½”ë“œëŠ” ê·¸ëŒ€ë¡œ ì‘ì„±í•¨
    ```gradle
    apply plugin: 'com.android.application'
    apply plugin: 'com.google.gms.google-services'

    # plugins{ } ë‚´ë¶€ì— id 'com.android.application' ì´ë¼ ì‘ì„±í•´ë„ ë¨

    dependencies {

        implementation 'androidx.appcompat:appcompat:1.4.2'
        implementation 'com.google.android.material:material:1.6.1'
        implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
        implementation 'com.google.firebase:firebase-database:20.0.0'
        testImplementation 'junit:junit:4.13.2'
        androidTestImplementation 'androidx.test.ext:junit:1.1.3'
        androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
        implementation platform('com.google.firebase:firebase-bom:30.2.0')
        implementation 'com.google.firebase:firebase-analytics'
    }
    ```

</br>

5. ì‹¤ì‹œê°„ ë°ì´í„°ë² ì´ìŠ¤ ê·œì¹™ ì„¤ì •

    <img width="800" alt="image" src="https://user-images.githubusercontent.com/40768187/178150259-ff68a372-0d3e-4d09-a4b6-51200175c477.png">

</br>

6. ì—°ê²° ì™„ë£Œ!

    <img width="497" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-11 á„‹á…©á„Œá…¥á†« 12 02 43" src="https://user-images.githubusercontent.com/40768187/178150449-99aed8dd-430b-4c14-8693-d49deb3f3cd4.png">

</br>

#### Android Studio Assistant
</br>

Android Studio ì—ì„œ ```Tools``` > ```Firebase``` > ```Realtime Database```

<img width="746" alt="image" src="https://user-images.githubusercontent.com/40768187/178150551-a2331a18-6892-4aea-9b19-e3baaa609c86.png">

</br>

ì™¼ìª½ íƒ­ì—ì„œ ```Connect to Firebase``` í´ë¦­ í›„ ì½˜ì†” ë‚´ì˜ í”„ë¡œì íŠ¸ ì ‘ì† í›„ ```ì—°ê²°```

<img width="860" alt="image" src="https://user-images.githubusercontent.com/40768187/178150726-26c76701-6633-43b1-b72b-ade1a48d0642.png">

</br>

ì™¼ìª½ íƒ­ì—ì„œ ```Add the Realtime Database SDK to your app``` í´ë¦­ í›„ > ```Accept Changes```

</br>

ì—°ê²°ì´ ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë°”ë€œ

<img width="1119" alt="image" src="https://user-images.githubusercontent.com/40768187/178150691-9aca553b-a595-490b-97a6-e2b2492cbaa0.png">

</br>

ìœ„ì—ì„œ ì„¤ì •í•œ build.gradle íŒŒì¼ê³¼ ë™ì¼í•˜ê²Œ ì½”ë“œ ì‘ì„±í•´ì£¼ë©´ ë¨

Java ì½”ë“œë„ ìœ„ì—ì„œ ì‘ì„±í•œ ëŒ€ë¡œ í•˜ë©´ ë¨

</br>

+) DTO í´ë˜ìŠ¤ ì‘ì„±í•´ë³´ê¸°

</br>

DTO?
- ê³„ì¸µê°„ ë°ì´í„° êµí™˜ì„ ìœ„í•œ ê°ì²´
- DBì— ë§Œë“¤ì–´ì§„ í•„ë“œì™€ 1:1 ëŒ€ì‘í•˜ëŠ” ë³€ìˆ˜ + getter/setter ë¥¼ ê°€ì§„ í´ë˜ìŠ¤

</br>

```java
package com.example.android_firebase2;

import java.util.HashMap;
import java.util.Map;

public class CustomerInfo {

    public String strName;
    public String strPhone_No;

    public CustomerInfo(String Name, String Phone_No){
        this.strName = Name;
        this.strPhone_No = Phone_No;
    }

    public void mSet_CInfo(String Name, String Phone_No){
        this.strName = Name;
        this.strPhone_No = Phone_No;
    }

    public String mGet_CPhone_No(){
        return strPhone_No;
    }

    public String mGet_CName(){
        return strName;
    }

    public Map<String, Object> toMap(){
        HashMap<String, Object> result = new HashMap<>();
        result.put("Name", strName);
        result.put("Phone_No", strPhone_No);

        return result;
    }
}
```